# RDP удалённый рабочий стол

Подключение к серверам и компьютерам Windows с использованием протокола удалённого рабочего стола (RDP).

## Добавление RDP-сервера

1. Нажмите **«Добавить новый хост»**
2. Выберите **Протокол**: RDP
3. Заполните:
   - **Хост/IP**: Адрес Windows-сервера
   - **Порт**: 3389 (по умолчанию)
   - **Имя пользователя**: Имя пользователя Windows
   - **Пароль**: Пароль Windows
   - **Домен**: (опционально) Имя домена Windows
4. Нажмите **Создать**

## Импорт из файла .rdp

Уже есть файл конфигурации RDP?

1. В диалоге добавления сервера нажмите **«Импорт .rdp файла»**
2. Выберите ваш файл `.rdp`
3. Поля заполнятся автоматически
4. При необходимости измените настройки
5. Нажмите **Создать**

## Подключение к RDP

1. Дважды щёлкните RDP-сервер в списке хостов
2. Окно удалённого рабочего стола откроется внутри приложения
3. Вы можете взаимодействовать с рабочим столом Windows как обычно

## Элементы управления RDP

| Ввод | Поведение |
|------|-----------|
| **Мышь** | Клики, перетаскивание, прокрутка работают нормально |
| **Клавиатура** | Все клавиши передаются на удалённый |
| **Буфер обмена** | Копирование/вставка между локальным и удалённым |

## Отключение

- Нажмите × на вкладке сессии
- Или закройте приложение
- Состояние сессии сохраняется на удалённом сервере

## Требования для Linux

Поддержка RDP на Linux требует FreeRDP. Marix **автоматически определяет**, установлен ли FreeRDP.

### Автоустановка

Если FreeRDP не найден:
1. Уведомление появится при попытке подключения
2. Нажмите кнопку **«Установить»**
3. Marix установит FreeRDP автоматически
4. Переподключитесь после завершения установки

### Ручная установка

Если предпочитаете установить вручную:

**Ubuntu/Debian**
```bash
sudo apt install freerdp3-x11 xdotool
```

**Fedora**
```bash
sudo dnf install freerdp xdotool
```

**Arch Linux**
```bash
sudo pacman -S freerdp xdotool
```

## Настройки дисплея

RDP-сессии адаптируются к размеру вашего окна. Для лучшего опыта:
- Разверните окно для полного рабочего стола
- Измените размер окна для настройки удалённого разрешения
- Полноэкранный режим доступен через элементы управления окна

## Советы по производительности

- **Уменьшите глубину цвета** для медленных соединений
- **Отключите визуальные эффекты** на стороне Windows
- Используйте **проводное подключение** для лучшей производительности
- Закройте ненужные приложения на удалённой машине

## Устранение неполадок

### Подключение отклонено
- Убедитесь, что удалённый рабочий стол включён на Windows
- Проверьте, разрешает ли брандмауэр Windows RDP
- Подтвердите правильный порт (по умолчанию 3389)

### Чёрный экран
- Подождите немного — первичное подключение может занять время
- Попробуйте переподключиться
- Проверьте, не в спящем режиме ли удалённая машина

### Низкая производительность
- Уменьшите разрешение экрана
- Уменьшите глубину цвета
- Проверьте скорость сети
- Закройте приложения, потребляющие много трафика

### Ошибка аутентификации
- Проверьте формат имени пользователя:
  - Локальный: `username`
  - Доменный: `DOMAIN\username` или `username@domain.com`
- Проверьте правильность пароля
- Убедитесь, что у аккаунта есть права на удалённый рабочий стол
