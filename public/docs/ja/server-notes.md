# サーバーノート（付箋）

Marix は、各サーバーに個人的なメモを添付できる**サーバーノート**機能を提供します。これは、サーバー設定のドキュメント化、メンテナンスリマインダー、またはクイックリファレンス情報に役立ちます。

## サーバーノートインターフェース

![Server Notes Interface](/note.png)

## 機能

- **サーバーごとのノート**: 各サーバーが独自のノートを持てる
- **自動保存**: 入力中に変更が自動的に保存される（500ms のデバウンス）
- **リッチテキストサポート**: 改行付きのプレーンテキスト
- **視覚的インジケーター**: ノートがあるサーバーは塗りつぶされたノートアイコンを表示
- **サーバーデータと同期**: ノートはサーバーバックアップに含まれる

## 使用法

### ノートを開く

1. サーバーに接続（SSH ターミナルまたは SFTP）
2. 上部ツールバーの **Notes** ボタン（鉛筆アイコン）をクリック
3. 右下に付箋ポップアップが表示される

### ノートを書く

- テキストエリアに入力するだけ
- ノートは500ms の非アクティビティ後に**自動保存**
- 保存中は「Saving...」インジケーターが表示
- `Escape` を押すか外側をクリックして閉じる

### 視覚的インジケーター

| アイコンの状態 | 意味 |
|------------|---------|
| アウトライン（空） | このサーバーにノートなし |
| 塗りつぶし（実線） | サーバーにノートあり |
| アンバー/黄色 | ノートが存在 |

## ユースケース

### サーバー設定

```
Web Server - Production
-----------------------
IP: 192.168.1.100
Nginx: /etc/nginx/sites-enabled/
Logs: /var/log/nginx/
SSL Cert expires: 2026-12-15
```

### メンテナンスリマインダー

```
TODO:
- [ ] Update OpenSSL (CVE-2025-XXXX)
- [ ] Rotate database credentials
- [ ] Increase swap to 4GB
```

### クイックリファレンス

```
Common Commands:
- Restart Nginx: sudo systemctl restart nginx
- Check disk: df -h
- View connections: netstat -tuln

Database:
- User: app_user
- Port: 5432
```

## データストレージ

- ノートはサーバー設定の一部として保存
- ✅ **ローカルバックアップに含まれる**（Marix バックアップ機能）
- ✅ **クラウドバックアップに含まれる**（Google Drive、Box）
- ✅ バックアップ暗号化使用時に**暗号化**

## キーボードショートカット

| キー | アクション |
|-----|--------|
| `Escape` | ノートポップアップを閉じる |
| 外側をクリック | ノートポップアップを閉じる |

## FAQ

### ノートは暗号化されていますか？

ノートはサーバー設定ファイルにプレーンテキストとして保存されます。暗号化されたバックアップを作成すると、ノートはすべてのサーバーデータとともに暗号化されます。

### Markdown は使用できますか？

ノートは現在プレーンテキストのみです。Markdown レンダリングは将来のバージョンで追加される可能性があります。

### 文字数制限はありますか？

特に制限はありません。
