# FTP/FTPS ファイル転送

Marix は SSH をサポートしていないファイルサーバーに接続するための FTP および FTPS プロトコルをサポートしています。

## インターフェースレイアウト

![FTP Interface](/ftp.png)

## FTP サーバーを追加

1. **「Add New Host」** をクリック
2. **プロトコル**: FTP または FTPS を選択
3. 以下を入力:
   - **Host/IP**: FTP サーバーアドレス
   - **ポート**: 21（FTP）または 990（FTPS）
   - **ユーザー名**: FTP ユーザー名
   - **パスワード**: FTP パスワード
4. **Create** をクリック

## FTP vs FTPS

| 機能 | FTP | FTPS |
|---------|-----|------|
| 暗号化 | なし | TLS/SSL |
| デフォルトポート | 21 | 990 |
| セキュリティ | 低 | 高 |
| 用途 | レガシーシステム | 安全な転送 |

> **推奨**: 暗号化されたファイル転送には FTPS を使用してください。

## FTP に接続

1. ホストリストの FTP サーバーをダブルクリック
2. 接続は直接**ファイルブラウザモード**で開く
3. ターミナルは利用不可（FTP はファイル転送のみ）

## ファイル操作

すべてのファイル操作は SFTP と同じように動作します:

### ファイル転送
- **ドラッグ＆ドロップ**でローカルとリモート間を転送
- **右クリック** → ダウンロード/アップロード

### ファイル管理
- **フォルダ作成**: 右クリック → New Folder
- **ファイル名変更**: 右クリック → Rename
- **ファイル削除**: 右クリック → Delete

### ナビゲーション
- ツールバーボタン: 戻る、進む、上へ、ホーム
- フォルダをダブルクリックして入る
- 検索を使用してファイルをフィルター

## 制限事項

FTP は以下をサポートしていません:
- **chmod**（パーミッション変更）
- **シンボリックリンク**
- **ファイル編集**（ダウンロード、編集、再アップロードが必要）

## パッシブ vs アクティブモード

Marix はデフォルトで**パッシブモード**を使用し、以下で良好に動作します:
- NAT ルーター
- ファイアウォール
- ほとんどの最新ネットワーク構成

## トラブルシューティング

### 接続タイムアウト
- サーバーがあなたの IP を許可しているか確認
- 両端のファイアウォールルールを確認
- 設定されている場合は別のポートを試す

### 認証失敗
- ユーザー名とパスワードを確認
- サーバーで FTP ユーザーが有効になっているか確認
- 一部のサーバーは特定のログイン形式が必要

### 転送失敗
- 利用可能なディスク容量を確認
- サーバーのファイルパーミッションを確認
- 大きなファイルはタイムアウトする可能性あり - サーバー制限を確認
