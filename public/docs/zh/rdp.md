# RDP 远程桌面

使用远程桌面协议（RDP）连接到 Windows 服务器和计算机。

## 添加 RDP 服务器

1. 点击 **"添加新主机"**
2. 选择 **协议**：RDP
3. 填写：
   - **主机/IP**：Windows 服务器地址
   - **端口**：3389（默认）
   - **用户名**：Windows 用户名
   - **密码**：Windows 密码
   - **域**：（可选）Windows 域名
4. 点击 **创建**

## 从 .rdp 文件导入

已有 RDP 配置文件？

1. 在添加服务器对话框中，点击 **"导入 .rdp 文件"**
2. 选择您的 `.rdp` 文件
3. 字段会从文件中自动填充
4. 如需要可调整任何设置
5. 点击 **创建**

## 连接到 RDP

1. 在主机列表中双击 RDP 服务器
2. 远程桌面窗口在应用程序内打开
3. 您可以正常与 Windows 桌面交互

## RDP 控制

| 输入 | 行为 |
|-------|----------|
| **鼠标** | 点击、拖动、滚动正常工作 |
| **键盘** | 所有按键转发到远程 |
| **剪贴板** | 在本地和远程之间复制/粘贴 |

## 断开连接

- 点击会话标签页上的 ×
- 或关闭应用程序
- 会话状态保留在远程服务器上

## Linux 要求

Linux 上的 RDP 支持需要 FreeRDP。Marix **自动检测** FreeRDP 是否已安装。

### 自动安装

如果未找到 FreeRDP：
1. 当您尝试连接时会出现通知
2. 点击 **"安装"** 按钮
3. Marix 自动安装 FreeRDP
4. 安装完成后重新连接

### 手动安装

如果您偏好手动安装：

**Ubuntu/Debian**
```bash
sudo apt install freerdp3-x11 xdotool
```

**Fedora**
```bash
sudo dnf install freerdp xdotool
```

**Arch Linux**
```bash
sudo pacman -S freerdp xdotool
```

## 显示设置

RDP 会话会适应您的窗口大小。为获得最佳体验：
- 最大化窗口以获得完整桌面体验
- 调整窗口大小以调整远程分辨率
- 可通过窗口控件使用全屏模式

## 性能提示

- 对于较慢的连接，**降低色彩深度**
- 在 Windows 端 **禁用视觉效果**
- 使用 **有线连接** 以获得最佳性能
- 关闭远程机器上不必要的应用程序

## 故障排除

### 连接被拒绝
- 验证 Windows 上是否启用了远程桌面
- 检查 Windows 防火墙是否允许 RDP
- 确认端口正确（默认 3389）

### 黑屏
- 稍等片刻 - 初始连接可能需要时间
- 尝试重新连接
- 检查远程机器是否处于睡眠模式

### 性能缓慢
- 降低屏幕分辨率
- 降低色彩深度
- 检查网络速度
- 关闭占用带宽的应用程序

### 认证失败
- 验证用户名格式：
  - 本地：`username`
  - 域：`DOMAIN\username` 或 `username@domain.com`
- 检查密码是否正确
- 确保账户有远程桌面访问权限
