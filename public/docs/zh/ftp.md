# FTP/FTPS 文件传输

Marix 支持 FTP 和 FTPS 协议，用于连接不支持 SSH 的文件服务器。

## 界面布局

![FTP Interface](/ftp.png)

## 添加 FTP 服务器

1. 点击 **"添加新主机"**
2. 选择 **协议**：FTP 或 FTPS
3. 填写：
   - **主机/IP**：FTP 服务器地址
   - **端口**：21（FTP）或 990（FTPS）
   - **用户名**：FTP 用户名
   - **密码**：FTP 密码
4. 点击 **创建**

## FTP 与 FTPS 对比

| 特性 | FTP | FTPS |
|---------|-----|------|
| 加密 | 无 | TLS/SSL |
| 默认端口 | 21 | 990 |
| 安全性 | 低 | 高 |
| 使用场景 | 旧系统 | 安全传输 |

> **建议**：如果可用，请使用 FTPS 进行加密文件传输。

## 连接到 FTP

1. 在主机列表中双击 FTP 服务器
2. 连接直接在 **文件浏览器模式** 中打开
3. 没有终端可用（FTP 仅用于文件传输）

## 文件操作

所有文件操作与 SFTP 相同：

### 传输文件
- **拖放** 在本地和远程之间传输
- **右键点击** → 下载/上传

### 文件管理
- **创建文件夹**：右键点击 → 新建文件夹
- **重命名文件**：右键点击 → 重命名
- **删除文件**：右键点击 → 删除

### 导航
- 使用工具栏按钮：后退、前进、上级、主目录
- 双击文件夹进入
- 使用搜索筛选文件

## 限制

FTP 不支持：
- **chmod**（更改权限）
- **符号链接**
- **文件编辑**（必须下载、编辑、重新上传）

## 被动模式与主动模式

Marix 默认使用 **被动模式**，在以下情况下效果更好：
- NAT 路由器
- 防火墙
- 大多数现代网络配置

## 故障排除

### 连接超时
- 检查服务器是否允许您的 IP
- 验证两端的防火墙规则
- 如果有配置，尝试不同的端口

### 认证失败
- 验证用户名和密码
- 检查 FTP 用户是否在服务器上启用
- 某些服务器需要特定的登录格式

### 传输失败
- 检查可用磁盘空间
- 验证服务器上的文件权限
- 大文件可能超时 - 检查服务器限制
