# SFTP 文件管理器

SFTP（SSH 文件传输协议）通过加密的 SSH 连接提供安全的文件传输。

## 打开 SFTP

### 从现有 SSH 连接

1. 连接到 SSH 服务器
2. 点击会话顶部的 **SFTP** 按钮
3. 或使用键盘快捷键：`Ctrl+Shift+O`

### 直接 SFTP 连接

1. 在主机列表中右键点击 SSH 服务器
2. 从上下文菜单中选择 **"SFTP"**

## 界面布局

![SFTP Interface](/sftp.png)

## 导航控件

| 按钮 | 功能 |
|--------|----------|
| ← | 返回历史记录 |
| → | 前进历史记录 |
| ↑ | 转到上级目录 |
| 🏠 | 转到主目录 |
| 🔄 | 刷新当前目录 |
| 🔍 | 搜索/筛选文件 |
| 💾 | 选择驱动器（Windows/Linux） |

## 文件操作

### 下载文件（远程 → 本地）

1. 在 **远程**（右侧）面板中导航到文件

**方法 A：拖放**
- 点击并拖动文件到本地（左侧）面板
- 放置到目标文件夹

**方法 B：右键点击**
- 右键点击文件
- 选择 **"下载"**
- 文件下载到当前本地文件夹

### 上传文件（本地 → 远程）

1. 在 **本地**（左侧）面板中导航到文件

**方法 A：拖放**
- 点击并拖动文件到远程（右侧）面板
- 放置到目标文件夹

**方法 B：右键点击**
- 右键点击文件
- 选择 **"上传"**
- 文件上传到当前远程文件夹

### 创建新文件夹

1. 导航到目标目录
2. 在空白处右键点击
3. 选择 **"新建文件夹"**
4. 输入文件夹名称
5. 点击确定

### 创建新文件

1. 导航到目标目录
2. 在空白处右键点击
3. 选择 **"新建文件"**
4. 输入文件名
5. 点击确定（创建空文件）

### 删除文件或文件夹

1. 右键点击文件或文件夹
2. 选择 **"删除"**
3. 确认删除

### 重命名文件或文件夹

1. 右键点击文件或文件夹
2. 选择 **"重命名"**
3. 输入新名称
4. 点击确定

## 更改权限（chmod）

1. 右键点击文件或文件夹（远程面板）
2. 选择 **"更改权限"**
3. 输入八进制格式的权限（例如 `755`、`644`）
4. 点击确定

### 常用权限值

| 值 | 含义 | 使用场景 |
|-------|---------|----------|
| `755` | 所有者：完全权限，其他人：读取+执行 | 文件夹、可执行文件 |
| `644` | 所有者：读取+写入，其他人：读取 | 普通文件 |
| `600` | 仅所有者 | 私密文件、SSH 密钥 |
| `777` | 所有人：完全访问 | 不推荐 |

## 编辑远程文件

1. 在远程面板中找到文本文件
2. 双击它（或右键点击 → 编辑）
3. 文件在内置编辑器中打开
4. 进行修改
5. 点击 **保存** 或按 `Ctrl+S`
6. 文件保存回服务器

### 支持的文件类型

**代码文件：**
`.js`、`.ts`、`.py`、`.php`、`.java`、`.c`、`.cpp`、`.go`、`.rs`、`.rb`

**配置文件：**
`.json`、`.yml`、`.yaml`、`.toml`、`.ini`、`.conf`、`.env`

**Web 文件：**
`.html`、`.css`、`.scss`、`.vue`、`.svelte`

**脚本：**
`.sh`、`.bash`、`.ps1`、`.bat`

**其他：**
`.txt`、`.md`、`.log`、`Dockerfile`、`Makefile`

## 压缩文件

从远程服务器上的文件或文件夹创建压缩包：

1. 右键点击文件或文件夹（远程面板）
2. 悬停在 **"压缩"** 上
3. 选择格式：
   - **ZIP** - 通用，兼容性最好
   - **TAR.GZ** - 最适合 Linux/Unix
   - **TAR** - 未压缩的归档

压缩包将创建在同一目录中。

## 解压归档

在远程服务器上解压压缩文件：

1. 右键点击归档文件（远程面板）
2. 选择 **"解压到此处"**
3. 文件解压到当前目录

### 支持的归档格式

| 格式 | 扩展名 |
|--------|------------|
| ZIP | `.zip` |
| TAR | `.tar`、`.tar.gz`、`.tgz`、`.tar.bz2`、`.tar.xz` |
| GZIP | `.gz` |
| BZIP2 | `.bz2` |
| XZ | `.xz` |
| 7-Zip | `.7z` |
| RAR | `.rar` |

> **注意：** 解压需要服务器上安装相应的工具（unzip、tar、7z、unrar）。

## 文件属性

查看文件和文件夹的详细信息：

1. 右键点击文件或文件夹
2. 选择 **"属性"**
3. 查看详情：

| 属性 | 描述 |
|----------|-------------|
| 名称 | 文件或文件夹名称 |
| 路径 | 完整路径位置 |
| 大小 | 文件大小（字节/KB/MB/GB） |
| 类型 | 文件或目录 |
| 权限 | 读/写/执行（例如 755） |
| 所有者 | 用户所有者（仅远程） |
| 群组 | 群组所有者（仅远程） |
| 修改时间 | 最后修改日期 |
| 创建时间 | 创建日期（如可用） |
| 访问时间 | 最后访问日期 |

## 传输队列

传输多个文件时：
- 进度条显示整体完成度
- 显示单个文件进度
- 点击 ✕ 取消传输
- 失败的传输可以重试

## 键盘快捷键

| 快捷键 | 操作 |
|----------|--------|
| `Ctrl+Shift+O` | 切换终端/SFTP |
| `F2` | 重命名选中项 |
| `Delete` | 删除选中项 |
| `Ctrl+C` | 复制路径 |
| `Ctrl+R` | 刷新目录 |

## 提示

- **拖动整个文件夹** 以递归传输
- **双击** 文件夹进入
- 使用 **搜索/筛选** 快速查找文件
- **覆盖确认** 防止意外数据丢失
