# SSH 密钥管理器

管理用于服务器无密码认证的 SSH 密钥。

## SSH 密钥管理器界面

![SSH Key Manager Interface](/sshkey.png)

## 打开 SSH 密钥管理器

在侧边栏菜单中点击 **"SSH 密钥"**。

## 生成新的 SSH 密钥

### 步骤 1：打开生成器
点击 **"生成密钥"** 按钮

### 步骤 2：填写详情

| 字段 | 描述 | 必填 |
|-------|-------------|----------|
| 密钥名称 | 用于标识此密钥的名称（例如"work-laptop"） | 是 |
| 密钥类型 | ed25519（推荐）、RSA 或 ECDSA | 是 |
| 密码短语 | 用于加密密钥的密码（可选但推荐） | 否 |
| 注释 | 附加说明（例如电子邮件地址） | 否 |

### 步骤 3：生成
点击 **"生成"**

### 步骤 4：完成
密钥出现在列表中，显示：
- 名称
- 类型徽章（ED25519、RSA、ECDSA）
- 指纹
- 创建日期

## 密钥类型对比

| 类型 | 安全性 | 兼容性 | 建议 |
|------|----------|---------------|----------------|
| **ED25519** | 优秀 | 现代服务器 | ✅ 推荐 |
| **RSA (4096)** | 很好 | 通用 | 适合旧系统 |
| **ECDSA** | 好 | 大多数服务器 | ED25519 的替代方案 |

## 导入现有密钥

### 步骤 1：打开导入器
点击 **"导入密钥"** 按钮

### 步骤 2：提供密钥数据

| 字段 | 描述 | 必填 |
|-------|-------------|----------|
| 密钥名称 | 此密钥的名称 | 是 |
| 私钥 | 粘贴密钥内容或点击"选择文件" | 是 |
| 注释 | 附加说明 | 否 |

### 步骤 3：导入
点击 **"导入"**

## 查看公钥

1. 在列表中点击一个密钥
2. 详情面板显示在右侧
3. 点击 **"显示公钥"**
4. 复制公钥以添加到服务器的 `~/.ssh/authorized_keys`

## 导出密钥

1. 在列表中找到密钥
2. 点击 **导出** 按钮（或右键点击 → 导出）
3. 选择：
   - **仅导出公钥** - 更安全，用于分享
   - **导出两个密钥** - 私钥 + 公钥（妥善保管！）
4. 选择保存位置
5. 密钥保存为文件

## 删除密钥

1. 在列表中找到密钥
2. 点击 **删除** 按钮（垃圾桶图标）
3. 确认删除

> ⚠️ **警告：** 删除的密钥无法恢复。如果需要，请确保您有备份。

## 使用密钥进行服务器连接

1. 添加/编辑服务器时
2. 将认证方式设置为 **"SSH 密钥"**
3. 在 **"密钥链中的 SSH 密钥"** 下拉菜单中
4. 选择您导入的密钥
5. 如果密钥有密码短语，在密码短语字段中输入

## 将公钥添加到服务器

要启用无密码登录，将您的公钥添加到服务器：

### 方法 1：手动
```bash
# 在本地机器上，复制公钥
# 然后在服务器上：
echo "your-public-key-here" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

### 方法 2：使用 ssh-copy-id（如果可用）
```bash
ssh-copy-id -i ~/.ssh/your_key.pub user@server
```

## 最佳实践

1. **尽可能使用 ED25519** 新密钥
2. **添加密码短语** 以增加安全性
3. **为不同用途使用不同密钥**（工作、个人）
4. **安全备份您的密钥**
5. **永远不要分享私钥** - 只分享公钥
6. **定期轮换密钥** 以确保安全
