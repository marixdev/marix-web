# 应用锁

使用应用锁保护您的 Marix 应用程序。启用后，应用会在一段时间不活动后自动锁定，防止未经授权访问您的服务器和凭证。

## 应用锁界面

![App Lock Interface](/applock.png)

## 启用应用锁

1. 打开 **设置**（侧边栏中的齿轮图标）
2. 找到 **安全** 部分
3. 切换 **启用应用锁**

## 锁定方式

选择应用如何锁定：

| 方式 | 描述 | 安全级别 |
|--------|-------------|----------------|
| **模糊** | 模糊屏幕内容 | 低 - 仅视觉隐私 |
| **PIN** | 需要 4-6 位 PIN 码解锁 | 中 |
| **密码** | 需要密码解锁 | 高 |

### 模糊模式

- 屏幕内容变模糊
- 点击任意位置解锁
- 最适合办公环境中的快速隐私保护

### PIN 模式

- 设置 4-6 位数字 PIN
- 输入 PIN 解锁
- 安全性和便利性的良好平衡

### 密码模式

- 设置自定义密码
- 输入密码解锁
- 最高安全级别

## 设置 PIN 或密码

切换到 PIN 或密码模式时：

1. 选择锁定方式
2. 出现对话框设置您的凭证
3. 输入您的 PIN/密码
4. 再次输入确认
5. 点击 **保存**

> **注意：** 如果您忘记了 PIN/密码，需要重启应用。您的服务器数据保持安全。

## 锁定超时

配置应用锁定前等待的时间：

| 超时 | 使用场景 |
|---------|----------|
| 1 分钟 | 最高安全性 |
| 2 分钟 | 高安全性 |
| 5 分钟 | 默认，平衡 |
| 10 分钟 | 中等安全性 |
| 15 分钟 | 日常使用 |
| 30 分钟 | 低安全性 |
| 60 分钟 | 最低保护 |

鼠标移动、键盘输入或点击都会重置计时器。

## 解锁

### 模糊模式
- 点击屏幕任意位置
- 移动鼠标

### PIN/密码模式
1. 输入您的 PIN 或密码
2. 按 **Enter** 或点击 **解锁**
3. 应用立即解锁

## 更改凭证

更改您的 PIN 或密码：

1. 转到 **设置** → **安全**
2. 点击 **更改 PIN** 或 **更改密码**
3. 输入您的新凭证
4. 确认并保存

## 清除凭证

删除 PIN/密码并切换回模糊模式：

1. 转到 **设置** → **安全**
2. 点击 **清除凭证**
3. 锁定方式恢复为模糊

## 工作原理

1. **活动追踪**：Marix 监控鼠标、键盘和点击事件
2. **不活动计时器**：设定时间内无活动后，应用锁定
3. **即时锁定**：您也可以手动锁定（如已实现）
4. **安全存储**：PIN/密码使用系统密钥链安全存储

## 安全注意事项

### 应用锁保护什么

- ✅ 查看服务器列表
- ✅ 查看保存的凭证
- ✅ 访问活动终端会话
- ✅ 浏览 SFTP 文件管理器

### 应用锁不保护什么

- ❌ 已建立的 SSH 连接（它们保持活动）
- ❌ 磁盘上的数据（使用系统加密）
- ❌ 网络流量（使用 SSH/TLS）

## 最佳实践

1. **使用密码模式** 在敏感环境中
2. **设置更短的超时** 在共享工作区
3. **使用唯一凭证** - 不要重复使用密码
4. **离开前锁定** 您的计算机
5. **与操作系统锁定结合** 以获得最高安全性

## 故障排除

### 忘记 PIN/密码

- 重启应用程序
- 应用锁在重启时重置
- 您的服务器数据保持完好

### 应用锁定太快

- 在设置中增加超时时间
- 检查是否有活动会话可能阻止活动检测

### 应用不锁定

- 确保应用锁已启用
- 检查超时设置
- 验证应用窗口有焦点
