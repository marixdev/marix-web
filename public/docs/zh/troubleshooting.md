# 故障排除

Marix 常见问题及解决方案。

## 连接问题

### "连接被拒绝"

**原因：**
- 服务器未运行
- IP/主机名错误
- 端口错误
- 防火墙阻止连接

**解决方案：**
1. 验证主机/IP 是否正确
2. 检查端口是否正确且开放
3. 确保服务器正在运行
4. 检查防火墙是否允许连接
5. 尝试 ping 服务器

### "连接超时"

**原因：**
- 服务器无法访问
- 网络问题
- 防火墙阻止

**解决方案：**
1. 检查您的网络连接
2. 验证服务器是否在线
3. 尝试从不同网络连接
4. 检查是否需要 VPN

### "认证失败"

**原因：**
- 用户名错误
- 密码错误
- SSH 密钥错误
- 密钥密码不正确

**解决方案：**
1. 验证用户名是否正确
2. 检查密码（区分大小写）
3. 确保选择了正确的 SSH 密钥
4. 输入正确的密钥密码
5. 验证用户在服务器上有 SSH 访问权限

### "主机密钥验证失败"

**原因：**
- 服务器被重新安装
- 服务器的 SSH 密钥已更改
- 潜在安全问题

**解决方案：**
1. 与服务器管理员确认密钥是否已更改
2. 转到已知主机 → 删除旧条目
3. 重新连接并接受新指纹
4. 如果可疑，在连接前进行调查

### "权限被拒绝（publickey）"

**原因：**
- SSH 密钥未被接受
- 密钥不在 authorized_keys 中
- 选择了错误的密钥

**解决方案：**
1. 验证公钥在服务器的 `~/.ssh/authorized_keys` 中
2. 检查密钥权限：`chmod 600 ~/.ssh/authorized_keys`
3. 确保在 Marix 中选择了正确的密钥
4. 如果可用，尝试密码认证

## SFTP 问题

### 上传时"权限被拒绝"

**原因：**
- 远程没有写权限
- 目录错误
- 磁盘已满

**解决方案：**
1. 检查远程文件夹的写权限
2. 先尝试上传到主目录
3. 检查服务器磁盘空间
4. 如需要使用 `sudo`（通过终端）

### 文件传输慢

**原因：**
- 网络速度
- 文件大小
- 服务器负载

**解决方案：**
1. 检查您的网络速度
2. 大文件需要更长时间 - 请耐心等待
3. 在非高峰时段尝试
4. 传输前压缩文件

### "没有该文件或目录"

**原因：**
- 路径不存在
- 符号链接损坏
- 列出目录的权限

**解决方案：**
1. 验证路径存在
2. 手动导航到位置
3. 检查父目录权限

## 终端问题

### 终端显示乱码

**原因：**
- 编码不匹配
- 终端类型不兼容

**解决方案：**
1. 尝试不同的终端主题
2. 检查服务器的区域设置
3. 重新连接到服务器

### 复制/粘贴不工作

**解决方案：**
1. 使用 `Ctrl+Shift+C` 和 `Ctrl+Shift+V`
2. **复制文本**：
   - 用鼠标选择文本 → 复制
   - 或使用 `Ctrl+C`
3. **粘贴文本**：
   - 右键点击 → 粘贴
   - 或使用 `Ctrl+V`
4. 检查文本是否确实被选中

### 终端无响应

**解决方案：**
1. 稍等片刻 - 命令可能正在处理
2. 按 `Ctrl+C` 取消正在运行的命令
3. 点击重新连接按钮
4. 关闭并重新打开标签页

## RDP 问题

### 连接后黑屏

**原因：**
- 初始连接延迟
- 远程机器睡眠
- 图形问题

**解决方案：**
1. 稍等片刻等待连接
2. 尝试重新连接
3. 先唤醒远程机器
4. 检查远程机器是否被锁定

### RDP 性能慢

**解决方案：**
1. 降低色彩深度设置
2. 在 Windows 上禁用视觉效果
3. 使用有线连接
4. 关闭占用带宽的应用程序
5. 降低远程分辨率

## 应用程序问题

### Marix 无法启动

**解决方案：**
1. 重启您的计算机
2. 重新安装 Marix
3. 检查是否有冲突软件
4. 以管理员身份运行（Windows）

### 设置未保存

**原因：**
- 没有写权限
- 配置文件损坏

**解决方案：**
1. 以管理员身份运行 Marix
2. 重置设置（设置 → 重置）
3. 删除配置文件夹并重启

### CPU/内存占用高

**解决方案：**
1. 关闭未使用的连接标签页
2. 减少打开的 SFTP 面板数量
3. 重启 Marix
4. 更新到最新版本

## 备份问题

### 恢复时"密码错误"

**解决方案：**
1. 确保使用的是确切密码
2. 密码区分大小写
3. 检查是否有前导/尾随空格
4. 尝试从其他提供商的备份

### 备份上传失败

**解决方案：**
1. 检查网络连接
2. 验证 OAuth 连接是否有效
3. 重新连接到备份提供商
4. 检查存储配额是否已超

## 获取帮助

如果您的问题未在此列出：

1. **检查更新** - 最新版本可能已修复您的问题
2. **搜索问题** 在 GitHub 上
3. **报告问题** 在 [GitHub Issues](https://github.com/marixdev/marix/issues)
4. **联系支持** 通过网站

报告问题时，请包括：
- Marix 版本
- 操作系统
- 重现步骤
- 错误消息（如有）
- 截图（如适用）
