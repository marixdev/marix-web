# 已知主机

已知主机存储服务器指纹，以检测服务器身份是否发生变化（潜在安全问题）。

## 已知主机界面

![Known Hosts Interface](/knowhosts.png)

## 什么是已知主机？

当您首次连接到 SSH 服务器时，服务器会显示其指纹。Marix 存储这些信息用于：
- 在后续连接时验证服务器身份
- 检测中间人攻击
- 在服务器密钥意外更改时发出警告

## 打开已知主机

在侧边栏中点击 **"已知主机"**。

## 查看已知主机

列表显示：

| 列 | 描述 |
|--------|-------------|
| 主机 | 服务器主机名/IP |
| 端口 | SSH 端口 |
| 密钥类型 | SSH 密钥算法（ED25519、RSA、ECDSA） |
| 指纹 | 唯一服务器标识符 |
| 添加时间 | 信任主机的时间 |

## 搜索已知主机

1. 使用顶部的搜索框
2. 按主机名、IP 或指纹搜索

## 按密钥类型筛选

1. 使用下拉筛选器
2. 选择：全部、ED25519、RSA 或 ECDSA

## 从服务器导入主机

无需连接即可手动添加服务器指纹：

1. 点击 **"从主机导入"** 按钮
2. 输入：
   - 主机名或 IP
   - 端口（默认 22）
3. 点击 **"导入"**
4. 服务器指纹被获取并存储

## 删除已知主机

1. 在列表中找到主机
2. 点击 **删除** 按钮（垃圾桶图标）
3. 确认删除

### 何时删除

- 服务器重新安装并有新密钥
- 服务器 IP/主机名已更改
- 您不再连接到此服务器

## 主机密钥验证

连接到新服务器时：
1. Marix 获取服务器指纹
2. 要求您验证并信任它
3. 接受后，它存储在已知主机中
4. 后续连接自动验证

## 安全警告

### "主机密钥已更改"
当服务器指纹与存储的不同时，会出现此警告。

**可能的原因：**
- 服务器被重新安装
- 服务器的 SSH 密钥被重新生成
- ⚠️ **中间人攻击**（罕见但可能）

**应该怎么做：**
1. 与服务器管理员确认密钥是否合法更改
2. 如果确认，从已知主机中删除旧条目
3. 重新连接并接受新指纹
4. 如果可疑，不要连接

## 最佳实践

1. **验证指纹** 连接新服务器时
2. **不要忽略警告** 关于主机密钥更改
3. **定期检查** 您的已知主机列表
4. **删除旧条目** 不再使用的服务器
